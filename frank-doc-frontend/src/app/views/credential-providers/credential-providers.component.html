<div class="page-container">
  <div class="sidenav fixed-sidenav">
    <span class="title">Credential Providers</span>
    <ul>
      @for (provider of credentialProviderNames(); track provider) {
        <li
          class="nav-item"
          (click)="handleSelectedProvider(provider)"
          [ngClass]="{ active: selectedProvider()?.name === provider }"
        >
          {{ provider }}
        </li>
      }
    </ul>
  </div>
  <div class="page">
    <h2 class="page-title">Credential Providers</h2>
    <p class="description">
      Credential providers in the Frank!Framework application are used to supply the necessary credentials for
      connecting to external systems, such as databases, web services, or any other systems that require authentication.
      These credentials are often referred to as authentication aliases or <code>authAlias</code>.
    </p>
    <p class="description">
      You can view and manage configured authentication aliases in the FF! Console under the Security Items page.
      Authentication aliases provide a secure way to manage passwords without embedding them directly in the application
      code. They also enable conditional password changes, especially when integrated with an authentication store like
      Kubernetes Secrets, Delinea Secret Server, WildFly Credentials, or other supported credential providers.
    </p>
    <p>
      There are some basic restrictions on using the authentication aliases:
      <ul>
        <li>the value consists of alpha numeric characters ".", "_" or "-".</li>
        <li>the value may also contain "@", "#", ":" or "+". These are separator characters. When you use an alias
          like: "abc#def", it will try to replace abc and def</li>
      </ul>
      Different authentication store implementations may have additional restrictions for these values.
    </p>
    <p class="description">
      For detailed instructions on implementing authentication in your configuration, refer to the Frank!Framework
      Manual.
    </p>
    @if (selectedProvider()) {
      @let providerName = selectedProvider()!.name;
      @let provider = selectedProvider()!.provider;
      <div class="provider-group" [id]="providerName">
        <h3 class="sub-title" [id]="providerName">{{ providerName }}</h3>
        <p class="fullname">{{ provider.fullName }}</p>
        <p
          class="description javadoc"
          *fdJavadocTransform="let text of provider.description ?? DEFAULT_RETURN_CHARACTER; elements: elements()"
          [innerHTML]="text"
        ></p>
        @if (provider.notes) {
          <div class="section notes">
            @for (note of provider.notes; track note) {
              <ff-alert type="info">
                <p *fdJavadocTransform="let text of note.value; elements: elements()" [innerHTML]="text"></p>
              </ff-alert>
            }
          </div>
        }
      </div>
    } @else {
      @if (selectedProviderName() !== null) {
        <h3 class="sub-title">Credential Provider not found</h3>
        <p class="description">The selected credential provider {{ selectedProviderName() }} was not found.</p>
      }
      <p>Select a Credential Provider from the list on the left.</p>
    }
  </div>
</div>
