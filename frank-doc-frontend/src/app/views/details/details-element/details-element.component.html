@if (element) {
  <h2>{{ element.name }}</h2>
  @if (element.labels) {
    @for (filter of element.labels | keyvalue; track filter; let index = $index) {
      @for (label of filter.value; track label) {
        <ff-chip [colour]="getLabelColor(index)" rounded>{{ label }}</ff-chip>
      }
    }
  }
  <div class="section explanation">
    <h3>Explanation</h3>
    <p>
      <span
        *javadocTransform="let text of element.description; link: linkTemplate; elements: frankDocElements"
        [innerHTML]="text"
      ></span>
      <ng-template #linkTemplate let-link
        ><a [routerLink]="[link.href]">{{ link.text }}</a></ng-template
      >
    </p>
  </div>
  <div class="section quick-links">
    <h3>Quick Links</h3>
    <ul>
      <li>
        <a [href]="githubUrlOf(element.name)" target="_blank">Github - {{ element.name }} Implementation Examples</a>
      </li>
      <li>
        <a [href]="javaDocUrlOf(element.fullName)" target="_blank">Javadoc - {{ element.name }}</a>
      </li>
    </ul>
  </div>
  <div class="section syntax">
    <h3>Syntax</h3>
    <pre><button>Copy</button><code
    >&lt;!--Copy the required code below--&gt;

&lt;TestPipe name=”my-test-pipe” version=”1” /&gt;</code
    ></pre>
  </div>
  <div class="section options">
    <h3>Component Options</h3>
    @if (element.attributes) {
      <div class="attributes">
        <span class="options-title">Attributes</span>
        @if (attributesRequired.length > 0) {
          <ff-alert type="warning">The attributes below are required</ff-alert>
          <table>
            <thead>
              <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Type</th>
              </tr>
            </thead>
            <tbody>
              @for (attribute of attributesRequired; track attribute.name) {
                <tr>
                  <td>{{ attribute.name }}</td>
                  <td [innerHTML]="attribute.description"></td>
                  <td>{{ attribute.type }}</td>
                </tr>
              }
            </tbody>
          </table>
        }
        @if (attributesOptional.length > 0) {
          <ff-alert type="info">The attributes below are optional</ff-alert>
          <span class="options-sub-title">Optional</span>
          <table>
            <thead>
              <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Type</th>
              </tr>
            </thead>
            <tbody>
              @for (attribute of attributesOptional; track attribute.name) {
                <tr>
                  <td>{{ attribute.name }}</td>
                  <td [innerHTML]="attribute.description">=</td>
                  <td>{{ attribute.type }}</td>
                </tr>
              }
            </tbody>
          </table>
        }
      </div>
    }
    @if (element.parameters) {
      <div class="parameters">
        <span class="options-title">Parameters</span>
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Description</th>
              <th>Type</th>
            </tr>
          </thead>
          <tbody>
            @for (parameter of element.parameters; track parameter.name) {
              <tr>
                <td>{{ parameter.name }}</td>
                <td [innerHTML]="parameter.description"></td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    }
    @if (element.children) {
      <div class="nested-elements">
        <span class="options-title">Nested Elements</span>
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Description</th>
              <th>Cardinality</th>
            </tr>
          </thead>
          <tbody>
            @for (nestedElement of element.children; track nestedElement.roleName) {
              <tr>
                <td>{{ nestedElement.roleName }}</td>
                <td [innerHTML]="nestedElement.description"></td>
                <td>{{ nestedElement.mandatory ? '1' : '0' }} .. {{ nestedElement.multiple ? 'n' : '1' }}</td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    }
    @if (element.forwards) {
      <div class="forwards">
        <span class="options-title">Forwards</span>
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            @for (forward of element.forwards; track forward.name) {
              <tr>
                <td>{{ forward.name }}</td>
                <td [innerHTML]="forward.description"></td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    }
  </div>
} @else {
  <h2>Element not found</h2>
  <div class="section explanation">
    <p>
      Use the search bar on the left or navigate to the <a routerLink="/">home page</a> to find the Frank!Element you're
      looking for, or go to the <a routerLink="/index">index page</a> for a full list of possible Frank!Elements.
    </p>
  </div>
}
